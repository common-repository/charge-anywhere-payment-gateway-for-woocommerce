!function(e){var t={};function r(a){if(t[a])return t[a].exports;var c=t[a]={i:a,l:!1,exports:{}};return e[a].call(c.exports,c,c.exports,r),c.l=!0,c.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)r.d(a,c,function(t){return e[t]}.bind(null,c));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.React},function(e,t){e.exports=window.wp.htmlEntities},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wc.wcBlocksRegistry},function(e,t){e.exports=window.wc.wcSettings},function(e,t,r){"use strict";r.r(t);var a=r(0),c=r(3),n=r(4),o=r(2),l=r(5),i=r(1);const s=Object(l.getSetting)("chargeanywhere_data",{}),m=new URLSearchParams(window.location.search).get("ca-error"),u=Object(c.__)("Charge Anywhere Payment Gateway","woo-gutenberg-products-block"),d=Object(o.decodeEntities)(s.title)||u,p=Object(o.decodeEntities)(s.merchant_id),b=Object(o.decodeEntities)(s.terminal_id),h=Object(o.decodeEntities)(s.secret_key),y=Object(o.decodeEntities)(s.accept_credit),g=Object(o.decodeEntities)(s.accept_ach),w=Object(o.decodeEntities)(s.mode),O=e=>{const[t,r]=Object(i.useState)("yes"===y&&"yes"===g||"yes"===y?"credit":"ach"),[c,n]=Object(i.useState)(!1),[o,l]=Object(i.useState)(""),[s,u]=Object(i.useState)(""),[d,O]=Object(i.useState)(""),[j,E]=Object(i.useState)(""),[f,v]=Object(i.useState)(""),[x,C]=Object(i.useState)("0"),{eventRegistration:N,emitResponse:S}=e,{onPaymentSetup:_}=N;return Object(i.useEffect)(()=>{n("yes"!==y&&"yes"===g||"yes"===y&&"yes"===g)},[y,g]),Object(i.useEffect)(()=>{const e=_(async()=>"credit"===t?{type:S.responseTypes.SUCCESS,meta:{paymentMethodData:{chargeanywhereCardNumber:o,chargeanywherecardCvc:d,chargeanywhereCardExpiry:s,chargeanywhereOption:t}}}:"ach"===t?{type:S.responseTypes.SUCCESS,meta:{paymentMethodData:{chargeanywhereOption:t,accountNumber:j,routingNumber:f,accountType:x}}}:{type:S.responseTypes.ERROR,message:"There was an error"});return()=>{e()}},[S.responseTypes.ERROR,S.responseTypes.SUCCESS,_,o,d,s,t,j,f,x]),p&&b&&h?Object(a.createElement)("div",null,m&&Object(a.createElement)("div",{class:"woocommerce-NoticeGroup woocommerce-NoticeGroup-updateOrderReview"}," ",Object(a.createElement)("div",{class:"wc-block-components-notice-banner is-error",role:"alert"},Object(a.createElement)("div",{class:"wc-block-components-notice-banner__content"},m))),"yes"===y&&"yes"===g&&Object(a.createElement)("div",{id:"selected_option",style:{margin:"10px 0px"}},Object(a.createElement)("select",{name:"chargeanywhere_option",id:"chargeanywhere_options",className:"input-text wc-credit-card-form-card-number",onChange:e=>{r(e.target.value)},style:{width:"100%"},value:t},Object(a.createElement)("option",{value:"credit"},"Credit"),Object(a.createElement)("option",{value:"ach"},"ACH"))),Object(a.createElement)("input",{id:"chargeanywhere_option",type:"hidden",name:"chargeanywhere_option",value:t}),"credit"===t&&Object(a.createElement)("div",{id:"credit-card",className:"chargeanywhere-credit-card"},"true"===w&&Object(a.createElement)("p",null,"TEST MODE ENABLED: Use test card number 4111111111111111 with any 3-digit CVC and a future expiration date"),Object(a.createElement)("fieldset",{id:"chargeanywhere-cc-fields"},Object(a.createElement)("p",{className:"form-row form-row-wide"},Object(a.createElement)("label",{htmlFor:"chargeanywhere-card-number"},"Card Number ",Object(a.createElement)("span",{className:"required"},"*")),Object(a.createElement)("input",{id:"chargeanywhere-card-number",className:"input-text credit-card-form-card-number",type:"text",autoComplete:"off",placeholder:"•••• •••• •••• ••••",name:"chargeanywhere-card-number",value:o,onChange:e=>{l(e.target.value)}})),Object(a.createElement)("p",{className:"form-row form-row-first"},Object(a.createElement)("label",{htmlFor:"chargeanywhere-card-expiry"},"Expiry (MM/YY) ",Object(a.createElement)("span",{className:"required"},"*")),Object(a.createElement)("input",{id:"chargeanywhere-card-expiry",className:"input-text credit-card-form-card-expiry",type:"text",autoComplete:"off",placeholder:"MM / YY",name:"chargeanywhere-card-expiry",value:s,onChange:e=>u((e=>{let t=e.replace(/\D/g,"");return 1===t.length&&parseInt(t,10)>1&&(t="0"+t),t.length>2&&(t=t.substring(0,2)+"/"+t.substring(2,4)),t})(e.target.value))})),Object(a.createElement)("p",{className:"form-row form-row-last"},Object(a.createElement)("label",{htmlFor:"chargeanywhere-card-cvc"},"Card Code ",Object(a.createElement)("span",{className:"required"},"*")),Object(a.createElement)("input",{id:"chargeanywhere-card-cvc",className:"input-text credit-card-form-card-cvc",type:"text",autoComplete:"off",placeholder:"CVC",name:"chargeanywhere-card-cvc",value:d,onChange:e=>O(e.target.value.replace(/\D/g,"").substring(0,3))})))),c&&Object(a.createElement)("div",{id:"ach-card",className:"chargeanywhere-ach-card",style:{display:"ach"===t?"block":"none"}},"true"===w&&Object(a.createElement)("p",null,"TEST MODE ENABLED: Use test account number 123456 with routing number 111111118"),Object(a.createElement)("fieldset",{id:"chargeanywhere-ach-fields"},Object(a.createElement)("p",{className:"form-row form-row-wide"},Object(a.createElement)("label",{htmlFor:"chargeanywhere-account-number"},"Account Number ",Object(a.createElement)("span",{className:"required"},"*")),Object(a.createElement)("input",{id:"chargeanywhere-account-number",className:"input-text",type:"text",maxLength:"29",autoComplete:"off",placeholder:"••• ••• ••• •••",name:"chargeanywhere-account-number",value:j,onChange:e=>E(e.target.value)})),Object(a.createElement)("p",{className:"form-row form-row-wide"},Object(a.createElement)("label",{htmlFor:"chargeanywhere-routing-number"},"Routing Number ",Object(a.createElement)("span",{className:"required"},"*")),Object(a.createElement)("input",{id:"chargeanywhere-routing-number",className:"input-text",type:"text",maxLength:"11",autoComplete:"off",placeholder:"••• ••• •••",name:"chargeanywhere-routing-number",value:f,onChange:e=>v(e.target.value.replace(/\D/g,"").substring(0,9))})),Object(a.createElement)("p",{className:"form-row form-row-wide"},Object(a.createElement)("label",{htmlFor:"chargeanywhere-acctype"},"Account Type ",Object(a.createElement)("span",{className:"required"},"*")),Object(a.createElement)("select",{name:"chargeanywhere-acctype",id:"chargeanywhere-acctype",className:"input-text",value:x,onChange:e=>C(e.target.value)},Object(a.createElement)("option",{value:"0"},"Personal Savings"),Object(a.createElement)("option",{value:"1"},"Personal Checking"),Object(a.createElement)("option",{value:"2"},"Business Checking")))))):Object(a.createElement)("div",null,Object(a.createElement)("fieldset",{id:"chargeanywhere-c-fields"},"Setup is not complete. Please contact the site administrator."))},j={name:"chargeanywhere",label:Object(a.createElement)(e=>{const{PaymentMethodLabel:t}=e.components;return Object(a.createElement)(t,{text:d})},null),content:Object(a.createElement)(O,null),edit:Object(a.createElement)(O,null),canMakePayment:()=>!0,ariaLabel:d,supports:{features:s.supports}};Object(n.registerPaymentMethod)(j)}]);